(window["webpackJsonppurple-react-free"]=window["webpackJsonppurple-react-free"]||[]).push([[17],{378:function(e,t,a){"use strict";a.r(t),a.d(t,"Dashboard",(function(){return m}));var l=a(29),n=a(0),c=a.n(n),r=(a(178),a(164)),o=a(30),i=a(221),u=a(137);function m(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],m=t[1],d=Object(o.useHistory)();u.a.get("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/login",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){e.data.success})).catch((function(e){m(!0)})),Object(n.useEffect)((function(){a&&d.push("/user-pages/login-1")}),[a]);var s=Object(n.useState)(""),b=Object(l.a)(s,2),E=b[0],p=b[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),h=g[0],f=g[1],y=Object(n.useState)(""),N=Object(l.a)(y,2),j=N[0],w=N[1],O=Object(n.useState)(""),C=Object(l.a)(O,2),S=C[0],k=C[1],_=Object(n.useState)(""),q=Object(l.a)(_,2),D=q[0],x=q[1],A=Object(n.useState)("none"),z=Object(l.a)(A,2),I=z[0],G=z[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"page-header"},c.a.createElement("h3",{className:"page-title"},c.a.createElement("span",{className:"page-title-icon bg-gradient-primary text-white mr-2"},c.a.createElement("i",{className:"mdi mdi-timetable"}))," ","User Schedule"," ")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 "},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body p-0 d-flex"},c.a.createElement("div",null,c.a.createElement(i.a,{style:{flexDirection:"column"}})),c.a.createElement("div",{className:"col-sm-7 col-md-5 col-lg-4 stretch-card"},c.a.createElement("div",{className:"card "},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("center",null,c.a.createElement("h2",null,"Add Event")),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("label",null,"Event Name: "),c.a.createElement(r.a.Control,{type:"text",id:"event_content",value:E,onChange:function(e){return p(e.target.value)}})," ",c.a.createElement("br",null),c.a.createElement("label",null,"Visibility:"),c.a.createElement("select",{className:"form-control",id:"event_visibility",value:h,onChange:function(e){return f(e.target.value)}},c.a.createElement("option",{value:"default"},"default"),c.a.createElement("option",{value:"public"},"public"),c.a.createElement("option",{value:"private"},"private"))," ",c.a.createElement("br",null),c.a.createElement("label",null,"Start Date: "),c.a.createElement(r.a.Control,{type:"datetime-local",id:"event_sdue",value:j,onChange:function(e){return w(e.target.value)}})," ",c.a.createElement("br",null),c.a.createElement("label",null,"End Date:"),c.a.createElement(r.a.Control,{type:"datetime-local",id:"event_edue",value:S,onChange:function(e){k(e.target.value),x(e.target.value)}})," ",c.a.createElement("br",null),c.a.createElement("label",null,"Repeat:"),c.a.createElement("select",{className:"form-control",id:"event_repeat",value:I,onChange:function(e){G(e.target.value)}},c.a.createElement("option",{value:"none"},"none"),c.a.createElement("option",{value:"daily"},"daily"),c.a.createElement("option",{value:"weekly"},"weekly"),c.a.createElement("option",{value:"monthly"},"monthly")),c.a.createElement("br",null),"none"!==I&&c.a.createElement("div",null,c.a.createElement("label",null,"Repeat End Date: "),c.a.createElement(r.a.Control,{type:"date",id:"event_done",value:D,onChange:function(e){return x(e.target.value)}})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("center",null,c.a.createElement("button",{type:"button",className:"btn btn-gradient-primary mr-2",id:"event_submit",onClick:function(){var e={cname:E,visibility:h,sdatetime:j,edatetime:S,weekly:0,enddate:D.split("T")[0]};u.a.post("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/event",e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(e){alert("add event failed")}))}},"Submit"),c.a.createElement("button",{className:"btn btn-light"},"Cancel"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",{className:"card-description"}," ","or ",c.a.createElement("br",null)," Fetch schedule via Google Calendar"," "),c.a.createElement("button",{type:"button",className:"btn btn-gradient-danger btn-fw",onClick:function(){console.log("google calendar clicked"),u.a.post("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/google",{},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log(e),alert(e.data.msg),window.location.reload()})).catch((function(e){console.log(e),alert(e)}))}},c.a.createElement("i",{className:"mdi mdi-upload btn-icon-prepend"}),"\xa0Upload Google Calendar")),c.a.createElement("br",null),c.a.createElement("br",null))))))))}t.default=m}}]);
//# sourceMappingURL=17.293ae57d.chunk.js.map