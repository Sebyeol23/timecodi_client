{"version":3,"sources":["app/my-timetable/timetable.js"],"names":["Dashboard","useState","oo","setOO","history","useHistory","axios","get","headers","Authorization","localStorage","getItem","then","response","data","success","catch","err","useEffect","push","name","setName","visible","setVisible","sdate","setSdate","edate","setEdate","enddate","setEnddate","repeatOption","setRepeatOption","className","style","flexDirection","Control","type","id","value","onChange","e","target","onClick","cname","visibility","sdatetime","edatetime","weekly","split","post","res","alert","msg","window","location","reload","console","log"],"mappings":"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","file":"static/js/17.293ae57d.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { Form, FormControl } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// import \"react-datepicker/dist/react-datepicker.css\";\r\n//달력 추가\r\n// import GlobalStyle from \"./styles/GlobalStyle\";\r\n// import { ThemeProvider } from \"styled-components\";\r\n// import Theme from \"./styles/Theme\";\r\nimport Main from \"./Main\";\r\nimport axios from \"axios\";\r\n\r\nexport function Dashboard() {\r\n  const [oo, setOO] = useState(false);\r\n  const history = useHistory();\r\n\r\n  axios\r\n    .get(\"https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/login\", {\r\n      headers: {\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((response) => {\r\n      if (response.data.success == true) {\r\n        // alert(\"good\");\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      setOO(true);\r\n    });\r\n\r\n  useEffect(() => {\r\n    if (oo) {\r\n      history.push(\"/user-pages/login-1\");\r\n      // alert(\"please login\");\r\n    }\r\n  }, [oo]);\r\n  // handleChange = date => {\r\n  //   this.setState({\r\n  //     startDate: date\r\n  //   });\r\n  // };\r\n  // constructor(props) {\r\n  //   super(props)\r\n  //   this.state = {\r\n  //     startDate: new Date(),\r\n  //     visitSaleData: {},\r\n\r\n  //   }\r\n  // }\r\n  const [name, setName] = useState(\"\");\r\n  const [visible, setVisible] = useState(\"\");\r\n  const [sdate, setSdate] = useState(\"\");\r\n  const [edate, setEdate] = useState(\"\");\r\n  const [enddate, setEnddate] = useState(\"\");\r\n\r\n  const handleAddEvent = () => {\r\n    const data = {\r\n      cname: name,\r\n      visibility: visible,\r\n      sdatetime: sdate,\r\n      edatetime: edate,\r\n      weekly: 0,\r\n      enddate: enddate.split(\"T\")[0],\r\n    };\r\n    axios\r\n      .post(\r\n        \"https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/event\",\r\n        data,\r\n        {\r\n          headers: {\r\n            Authorization: localStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        alert(res.data.msg);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        alert(\"add event failed\");\r\n      });\r\n  };\r\n\r\n  const [repeatOption, setRepeatOption] = useState(\"none\");\r\n  const handleShowRepeat = (e) => {\r\n    setRepeatOption(e.target.value);\r\n  };\r\n\r\n  const handleGoogleCalendar = () => {\r\n    console.log(\"google calendar clicked\");\r\n    axios\r\n      .post(\r\n        \"https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/google\",\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: localStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res);\r\n        alert(res.data.msg);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">\r\n          <span className=\"page-title-icon bg-gradient-primary text-white mr-2\">\r\n            <i className=\"mdi mdi-timetable\"></i>\r\n          </span>{\" \"}\r\n          User Schedule{\" \"}\r\n        </h3>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-12 \">\r\n          <div className=\"card\">\r\n            <div className=\"card-body p-0 d-flex\">\r\n              <div>\r\n                <Main style={{ flexDirection: \"column\" }} />\r\n              </div>\r\n              <div className=\"col-sm-7 col-md-5 col-lg-4 stretch-card\">\r\n                <div className=\"card \">\r\n                  {/* <h3 className=\"card-title\">Add Event</h3> */}\r\n                  <br></br>\r\n                  <br></br>\r\n                  <center>\r\n                    <h2>Add Event</h2>\r\n                  </center>\r\n                  <br></br>\r\n                  <br></br>\r\n                  {/* <p className=\"card-description\"> Enter your schedule. </p> */}\r\n                  <label>Event Name: </label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    id=\"event_content\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  ></Form.Control>{\" \"}\r\n                  <br></br>\r\n                  <label>Visibility:</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id=\"event_visibility\"\r\n                    value={visible}\r\n                    onChange={(e) => setVisible(e.target.value)}\r\n                  >\r\n                    <option value=\"default\">default</option>\r\n                    <option value=\"public\">public</option>\r\n                    <option value=\"private\">private</option>\r\n                  </select>{\" \"}\r\n                  <br></br>\r\n                  <label>Start Date: </label>\r\n                  <Form.Control\r\n                    type=\"datetime-local\"\r\n                    id=\"event_sdue\"\r\n                    value={sdate}\r\n                    onChange={(e) => setSdate(e.target.value)}\r\n                  ></Form.Control>{\" \"}\r\n                  <br></br>\r\n                  <label>End Date:</label>\r\n                  <Form.Control\r\n                    type=\"datetime-local\"\r\n                    id=\"event_edue\"\r\n                    value={edate}\r\n                    onChange={(e) => {\r\n                      setEdate(e.target.value);\r\n                      setEnddate(e.target.value);\r\n                    }}\r\n                  ></Form.Control>{\" \"}\r\n                  <br></br>\r\n                  <label>Repeat:</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id=\"event_repeat\"\r\n                    value={repeatOption}\r\n                    onChange={handleShowRepeat}\r\n                  >\r\n                    <option value=\"none\">none</option>\r\n                    <option value=\"daily\">daily</option>\r\n                    <option value=\"weekly\">weekly</option>\r\n                    <option value=\"monthly\">monthly</option>\r\n                  </select>\r\n                  <br></br>\r\n                  {repeatOption !== \"none\" && (\r\n                    <div>\r\n                      <label>Repeat End Date: </label>\r\n                      <Form.Control\r\n                        type=\"date\"\r\n                        id=\"event_done\"\r\n                        value={enddate}\r\n                        onChange={(e) => setEnddate(e.target.value)}\r\n                      ></Form.Control>\r\n                    </div>\r\n                  )}\r\n                  <br></br>\r\n                  <br></br>\r\n                  <center>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-gradient-primary mr-2\"\r\n                      id=\"event_submit\"\r\n                      onClick={handleAddEvent}\r\n                    >\r\n                      Submit\r\n                    </button>\r\n                    <button className=\"btn btn-light\">Cancel</button>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <p className=\"card-description\">\r\n                      {\" \"}\r\n                      or <br></br> Fetch schedule via Google Calendar{\" \"}\r\n                    </p>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-gradient-danger btn-fw\"\r\n                      onClick={handleGoogleCalendar}\r\n                    >\r\n                      <i className=\"mdi mdi-upload btn-icon-prepend\"></i>\r\n                      {/* <i className=\"mdi mdi-google\"></i> */}\r\n                      &nbsp;Upload Google Calendar\r\n                    </button>\r\n                  </center>\r\n                  <br></br>\r\n                  <br></br>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}