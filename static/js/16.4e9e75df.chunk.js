(window["webpackJsonppurple-react-free"]=window["webpackJsonppurple-react-free"]||[]).push([[16],{380:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(0),i=n.n(r),c=(n(180),n(30)),o=n(34),l=n(144),u=n(142);function s(){var e=Object(l.a)(["\n\n  width: 7vw;\n  text-align: center;\n  list-style: none;\n\n  :nth-child(7n + 1),\n  :nth-child(7n) {\n    color: #969696;\n  }\n"]);return s=function(){return e},e}function d(){var e=Object(l.a)(["\n  display: flex;\n  margin: 3.3vw 0 0.3vw 0vw;\n"]);return d=function(){return e},e}function f(){var e=Object(l.a)(["\n  padding: 0.2vw 0.2vw 0.2vw;\n  width: ",";\n  border: 0.5px solid #e4e3e6;\n  border-radius: 5px;\n  text-align: center;\n  font-size: 0.8rem;\n  cursor: pointer;\n  position: relative;\n  right: 0vw;\n  list-style: none;\n\n"]);return f=function(){return e},e}function m(){var e=Object(l.a)(["\n  margin: 2.5vw 1vw 0 0;\n  width: 30vw;\n  position: absolute;\n  right: 0vw;\n  left: 41vw;\n  /* top: 4.5vw; */\n\n"]);return m=function(){return e},e}function v(){var e=Object(l.a)(["\n  font-size: 1.0rem;\n  font-weight: 200;\n  position: relative;\n  left: 5vw;\n  top: 2.6vw;\n"]);return v=function(){return e},e}function p(){var e=Object(l.a)(["\n  font-size: 2rem;\n  font-weight: 700;\n  position: relative;\n  left: 4vw;\n  top: 1.8vw;\n"]);return p=function(){return e},e}function b(){var e=Object(l.a)(["\n  margin:.7vw;\n"]);return b=function(){return e},e}function h(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 49vw;\n  height: 9vw;\n  border: 2px solid #e4e3e6;\n  border-radius: 2px;\n  margin: 20px 20px 0 20px;\n"]);return h=function(){return e},e}var g=u.a.section(h()),w=u.a.section(b()),O=u.a.div(p()),E=u.a.div(v()),y=u.a.div(m()),x=u.a.li(f(),(function(e){return e.width||"1.5vw"})),j=u.a.div(d()),D=u.a.li(s()),k=["January","February","March","April","May","June","July","August","September","October","November","December"],S=["SUN","MON","TUE","WED","THU","FRI","SAT"],T=function(e){var t=e.year,n=e.month,a=e.goToday,r=e.setMonth;return i.a.createElement(g,null,i.a.createElement(w,null,i.a.createElement("div",{className:"row"},i.a.createElement(O,null,k[(12e3+n-1)%12]),i.a.createElement(E,null,(n+12e3-1)%12+1," / ",parseInt((12*t+n-1)/12)),i.a.createElement(y,null,i.a.createElement("div",{className:"row"}),i.a.createElement("div",{className:"row"},i.a.createElement(x,{onClick:function(){return r(n-1)}},"<"),i.a.createElement(x,{width:"4vw",onClick:function(){return a()}},"TODAY"),i.a.createElement(x,{onClick:function(){return r(n+1)}},">"))))),i.a.createElement(j,null,S.map((function(e,t){return i.a.createElement(D,{key:t},e)}))))},N=n(162),M=n.n(N),A=n(163),C=n(376);function z(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1vw;\n  font-weight: 700;\n  border-bottom: 2px solid #d3d3d3;\n"]);return z=function(){return e},e}function F(){var e=Object(l.a)(["\n  position: absolute;\n  width: fit-content;\n  max-width: 40vw;\n  height: fit-content;\n  max-height: 40vw;\n  border-radius: 10px;\n  background-color: #f2edf3;\n  text-align: left;\n  color: black;\n  z-index: 999;\n"]);return F=function(){return e},e}function I(){var e=Object(l.a)(["\n  margin-bottom: 10px;\n  td,\n  th {\n    padding: 5px;\n  }\n"]);return I=function(){return e},e}var L=u.a.table(I()),J=u.a.div(F()),q=u.a.div(z()),Y=function(e){var t=e.date,n=(e.openModal,e.setOpenModal),a=e.evtList;return i.a.createElement(J,{className:"card",style:{width:"fit-content"}},i.a.createElement(q,null,t,i.a.createElement("button",{type:"button",className:"btn btn-gradient-primary btn-sm",onClick:function(){n(!1)}},"CLOSE")),i.a.createElement(C.a,{className:"table-responsive"},i.a.createElement(L,{className:"table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Title"),i.a.createElement("th",null,"Start"),i.a.createElement("th",null,"End"))),i.a.createElement("tbody",null,a.map((function(e,t){return i.a.createElement(r,{key:e.cid,cid:e.cid,cname:!1===e.visibility||"private"===e.visibility?"\ube44\uacf5\uac1c":e.cname,sdatetime:e.sdatetime,edatetime:e.edatetime})}))))));function r(e){e.cid;var t=e.cname,n=e.sdatetime,a=e.edatetime;return i.a.createElement("tr",null,i.a.createElement("td",null,t),i.a.createElement("td",null,n),i.a.createElement("td",null,a))}};function H(){var e=Object(l.a)(["\n  margin-top: 0.3vw;\n  padding-left: 0.5vw;\n  color: red;\n  font-weight: 700;\n  background-color: skyblue;\n  border-radius: 5px;\n"]);return H=function(){return e},e}function U(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n"]);return U=function(){return e},e}function G(){var e=Object(l.a)(["\n  margin-top: 0.2vw;\n  padding: 0;\n  font-size: 0.7vw;\n"]);return G=function(){return e},e}function P(){var e=Object(l.a)(["\n  padding: 0;\n"]);return P=function(){return e},e}function R(){var e=Object(l.a)(["\n  overflow: auto;\n  height: 70px;\n  color: black;\n\n  ",";\n  ",";\n  &::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n    border-radius: 6px;\n    background: rgba(255, 255, 255, 0.4);\n  }\n  &::-webkit-scrollbar-thumb {\n    background: rgba(0, 0, 0, 0.3);\n    border-radius: 6px;\n  }\n"]);return R=function(){return e},e}function W(){var e=Object(l.a)(["\n  padding: 0.5em 0.6em 0 0;\n  font-size: 1em;\n  color: black;\n\n  ",";\n  ",";\n"]);return W=function(){return e},e}function B(){var e=Object(l.a)(["\n  ","\n"]);return B=function(){return e},e}function K(){var e=Object(l.a)(["\n  position: relative;\n  padding: 0 0vw 0 0.7vw;\n  width: 7vw;\n  height: 8vw;\n  text-align: left;\n  border-bottom: 1px solid #e4e3e6;\n  border-left: 1px solid #e4e3e6;\n  list-style: none;\n  font-size: 1.1rem;\n  :nth-child(7n + 1),\n  :nth-child(7n) {\n    color: #969696;\n    background-color: #f5f5f5;\n  }\n"]);return K=function(){return e},e}var Q=u.a.li(K()),V=u.a.span(B(),(function(e){return e.findToday&&e.idx>=e.lastDate&&e.idx<=e.firstDate&&" position: relative;\n    padding: .5vw;\n    // border-radius: 50%;\n    font-size: 1.2vw;\n    font-weight: 700;\n    color: #fe7c96;\n "})),X=u.a.div(W(),(function(e){return e.idx<e.lastDate&&"color: #969696;"}),(function(e){return e.firstDate>0&&e.idx>e.firstDate-1&&"\n    color: #969696;\n  "})),Z=u.a.div(R(),(function(e){return e.idx<e.lastDate&&"opacity: 0;"}),(function(e){return e.firstDate>0&&e.idx>e.firstDate-1&&"\n    opacity: 0;\n  "})),$=u.a.ul(P()),_=u.a.li(G()),ee=(u.a.div(U()),u.a.div(H()),function(e){var t=e.lastDate,n=e.firstDate,c=e.elm,o=e.findToday,l=e.month,u=e.year,s=e.idx,d=(e.holiday,e.evtList),f="".concat(u,"-").concat(l,"-").concat(c),m=Object(r.useState)(!1),v=Object(a.a)(m,2),p=v[0],b=v[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,{onDoubleClick:function(){b(!0)}},i.a.createElement(X,{idx:s,lastDate:t,firstDate:n,findToday:o},i.a.createElement(V,{findToday:o},c)),i.a.createElement(Z,{idx:s,lastDate:t,firstDate:n},i.a.createElement($,{className:"list-ticked"},void 0!==d&&d.map((function(e,t){return i.a.createElement(_,{key:e.cid},!1===e.visibility||"private"===e.visibility?"\ube44\uacf5\uac1c":e.cname)})))),p&&i.a.createElement(Y,{date:f,setOpenModal:b,openModal:!0,evtList:d})))}),te=n(137);function ne(){var e=Object(l.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  margin: 0 10px 20px 20px;\n  width: 49vw;\n"]);return ne=function(){return e},e}var ae=[{visibility:"public",cid:61234,edatetime:"2023-05-02T14:00:00",enddate:null,uid:"tester",cname:"my event test",sdatetime:"2023-05-01T14:00:00",weekly:"0"}],re=u.a.div(ne()),ie=function(e){var t=e.totalDate,n=e.today,c=e.month,o=e.year,l=e.fid,u=t.indexOf(1),s=t.indexOf(1,7),d=Object(r.useState)([]),f=Object(a.a)(d,2),m=f[0],v=f[1],p=Object(r.useState)(new Map),b=Object(a.a)(p,2),h=b[0],g=b[1],w=Object(r.useState)([0]),O=Object(a.a)(w,2),E=O[0],y=O[1],x=t.indexOf(n),j=(new Date).getMonth()+1,D=function(){var e=Object(A.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get("http://localhost:8000/?solYear=".concat(o,"&solMonth=").concat(c),T);case 3:t=e.sent,console.log(t.data),y(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){v(ae),k()}),[]);var k=function(){te.a.get("".concat("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app","/friendcal?fid=").concat(l),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=[];t.push(e.data),v(t[0]),console.log("Friends Cal",t[0])})).catch((function(e){alert(e),console.log(e)}))};function S(e,t,n){var a=[],r="".concat(e,"-").concat(String(t).padStart(2,"0"),"-").concat(String(n).padStart(2,"0"));return h.has(r)&&(a=h.get(r)),a}Object(r.useEffect)((function(){!function(e){var t=new Map;e.forEach((function(e){if(void 0!==e.sdatetime&&void 0!==e.edatetime){var n=e.sdatetime.split("T")[0],a=e.edatetime.split("T")[0];if(t.has(n)?t.get(n).push(e):t.set(n,[e]),n!==a)for(var r=new Date(n),i=new Date(a);r<=i;){var c=r.toISOString().split("T")[0];t.has(c)?t.get(c).some((function(t){return t.cid===e.cid}))||t.get(c).push(e):t.set(c,[e]),r.setDate(r.getDate()+1)}}})),g(t)}(m)}),[m]);var T={method:"GET",redirect:"follow",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Methods":"OPTIONS,POST,GET"}};return Object(r.useEffect)((function(){D()}),[c]),i.a.createElement(re,null,t.map((function(e,t){return i.a.createElement(ee,{key:t,idx:t,lastDate:u,firstDate:s,elm:e,findToday:x===t&&c===j&&x,month:c,year:o,holiday:E.item,evtList:S(o,c,e)})})))},ce=function(e){var t=e.fid,n=new Date,c=n.getFullYear(),l=n.getMonth()+1,u=Object(r.useState)(l),s=Object(a.a)(u,2),d=s[0],f=s[1],m=Object(r.useState)(c),v=Object(a.a)(m,2),p=v[0],b=(v[1],Object(r.useState)([])),h=Object(a.a)(b,2),g=h[0],w=h[1],O=function(e){var t=new Date(c,e-1,0).getDate(),n=new Date(c,e-1,0).getDay(),a=new Date(c,e,0).getDay(),r=new Date(c,e,0).getDate(),i=[];if(6!==n)for(var l=0;l<n+1;l++)i.unshift(t-l);for(var u=[],s=1;s<7-a;s++){if(0===s)return u;u.push(s)}var d;return d=Object(o.a)(Array(r+1).keys()).slice(1),i.concat(d,u)};Object(r.useEffect)((function(){w(O(7))}),[]),Object(r.useEffect)((function(){w(O(d))}),[d]);var E=Object(r.useState)(0),y=Object(a.a)(E,2),x=y[0],j=y[1];return i.a.createElement("div",null,i.a.createElement(T,{year:p,month:d,setMonth:f,goToday:function(){var e=(new Date).getDate(),t=(new Date).getMonth()+1;f(t),j(e)}}),i.a.createElement(ie,{totalDate:g,today:x,month:d,year:p,fid:t}))};function oe(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1],l=Object(c.useHistory)(),u=Object(c.useLocation)().pathname.split("/").pop();console.log("fid",u),te.a.get("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/login",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){e.data.success})).catch((function(e){o(!0)})),Object(r.useEffect)((function(){n&&l.push("/user-pages/login-1")}),[n]);var s=Object(r.useState)(""),d=Object(a.a)(s,2),f=(d[0],d[1],Object(r.useState)("")),m=Object(a.a)(f,2),v=(m[0],m[1],Object(r.useState)("")),p=Object(a.a)(v,2),b=(p[0],p[1],Object(r.useState)("")),h=Object(a.a)(b,2);h[0],h[1];return i.a.createElement("div",null,i.a.createElement("div",{className:"page-header"},i.a.createElement("h3",{className:"page-title"},i.a.createElement("span",{className:"page-title-icon bg-gradient-primary text-white mr-2"},i.a.createElement("i",{className:"mdi mdi-timetable"}))," ","friend ",u,"'s Schedule"," ")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg- "},i.a.createElement("div",{className:"card",style:{"margin-left":"1.2vw"}},i.a.createElement("div",{className:"card-body d-flex"},i.a.createElement("div",{style:{"text-align":"right"}},i.a.createElement("p",{style:{color:"gray"}},'\xa0 \xa0 \xa0 \xa0 ** You can only see schedules that are set "public" **\xa0 \xa0\xa0 \xa0'),i.a.createElement("div",null,i.a.createElement(ce,{fid:u,style:{flexDirection:"column","margin-top":"20vw"}}))))))))}n.d(t,"FriendTimetable",(function(){return oe}));t.default=oe}}]);
//# sourceMappingURL=16.4e9e75df.chunk.js.map