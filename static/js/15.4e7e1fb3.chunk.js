(window["webpackJsonppurple-react-free"]=window["webpackJsonppurple-react-free"]||[]).push([[15],{166:function(e,t,a){"use strict";var n=a(2),l=a(3),r=a(6),c=a.n(r),i=a(0),o=a.n(i),s=(a(85),a(15)),u=a.n(s),d={type:u.a.string.isRequired,as:u.a.elementType},m=o.a.forwardRef((function(e,t){var a=e.as,r=void 0===a?"div":a,i=e.className,s=e.type,u=Object(l.a)(e,["as","className","type"]);return o.a.createElement(r,Object(n.a)({},u,{ref:t,className:c()(i,s&&s+"-feedback")}))}));m.displayName="Feedback",m.propTypes=d,m.defaultProps={type:"valid"};var f=m,b=o.a.createContext({controlId:void 0}),v=a(10),p=o.a.forwardRef((function(e,t){var a=e.id,r=e.bsPrefix,s=e.bsCustomPrefix,u=e.className,d=e.isValid,m=e.isInvalid,f=e.isStatic,p=e.as,E=void 0===p?"input":p,h=Object(l.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","isStatic","as"]),g=Object(i.useContext)(b),y=g.controlId;return r=g.custom?Object(v.b)(s,"custom-control-input"):Object(v.b)(r,"form-check-input"),o.a.createElement(E,Object(n.a)({},h,{ref:t,id:a||y,className:c()(u,r,d&&"is-valid",m&&"is-invalid",f&&"position-static")}))}));p.displayName="FormCheckInput",p.defaultProps={type:"checkbox"};var E=p,h=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.bsCustomPrefix,s=e.className,u=e.htmlFor,d=Object(l.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),m=Object(i.useContext)(b),f=m.controlId;return a=m.custom?Object(v.b)(r,"custom-control-label"):Object(v.b)(a,"form-check-label"),o.a.createElement("label",Object(n.a)({},d,{ref:t,htmlFor:u||f,className:c()(s,a)}))}));h.displayName="FormCheckLabel";var g=h,y=o.a.forwardRef((function(e,t){var a=e.id,r=e.bsPrefix,s=e.bsCustomPrefix,u=e.inline,d=e.disabled,m=e.isValid,p=e.isInvalid,h=e.feedback,y=e.className,O=e.style,w=e.title,j=e.type,x=e.label,N=e.children,k=e.custom,C=e.as,D=void 0===C?"input":C,S=Object(l.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom","as"]),I="switch"===j||k;r=I?Object(v.b)(s,"custom-control"):Object(v.b)(r,"form-check");var P=Object(i.useContext)(b).controlId,T=Object(i.useMemo)((function(){return{controlId:a||P,custom:I}}),[P,I,a]),F=null!=x&&!1!==x&&!N,A=o.a.createElement(E,Object(n.a)({},S,{type:"switch"===j?"checkbox":j,ref:t,isValid:m,isInvalid:p,isStatic:!F,disabled:d,as:D}));return o.a.createElement(b.Provider,{value:T},o.a.createElement("div",{style:O,className:c()(y,r,I&&"custom-"+j,u&&r+"-inline")},N||o.a.createElement(o.a.Fragment,null,A,F&&o.a.createElement(g,{title:w},x),(m||p)&&o.a.createElement(f,{type:m?"valid":"invalid"},h))))}));y.displayName="FormCheck",y.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},y.Input=E,y.Label=g;var O=y,w=(a(143),o.a.forwardRef((function(e,t){var a,r,s=e.bsPrefix,u=e.type,d=e.size,m=e.id,f=e.className,p=e.isValid,E=e.isInvalid,h=e.plaintext,g=e.readOnly,y=e.as,O=void 0===y?"input":y,w=Object(l.a)(e,["bsPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","as"]),j=Object(i.useContext)(b).controlId;if(s=Object(v.b)(s,"form-control"),h)(r={})[s+"-plaintext"]=!0,a=r;else if("file"===u){var x;(x={})[s+"-file"]=!0,a=x}else{var N;(N={})[s]=!0,N[s+"-"+d]=d,a=N}return o.a.createElement(O,Object(n.a)({},w,{type:u,ref:t,readOnly:g,id:m||j,className:c()(f,a,p&&"is-valid",E&&"is-invalid")}))})));w.displayName="FormControl",w.Feedback=f;var j=w,x=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,s=e.children,u=e.controlId,d=e.as,m=void 0===d?"div":d,f=Object(l.a)(e,["bsPrefix","className","children","controlId","as"]);a=Object(v.b)(a,"form-group");var p=Object(i.useMemo)((function(){return{controlId:u}}),[u]);return o.a.createElement(b.Provider,{value:p},o.a.createElement(m,Object(n.a)({},f,{ref:t,className:c()(r,a)}),s))}));x.displayName="FormGroup";var N=x,k=["xl","lg","md","sm","xs"],C=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,i=e.as,s=void 0===i?"div":i,u=Object(l.a)(e,["bsPrefix","className","as"]),d=Object(v.b)(a,"col"),m=[],f=[];return k.forEach((function(e){var t,a,n,l=u[e];if(delete u[e],null!=l&&"object"===typeof l){var r=l.span;t=void 0===r||r,a=l.offset,n=l.order}else t=l;var c="xs"!==e?"-"+e:"";null!=t&&m.push(!0===t?""+d+c:""+d+c+"-"+t),null!=n&&f.push("order"+c+"-"+n),null!=a&&f.push("offset"+c+"-"+a)})),m.length||m.push(d),o.a.createElement(s,Object(n.a)({},u,{ref:t,className:c.a.apply(void 0,[r].concat(m,f))}))}));C.displayName="Col";var D=C,S=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.column,s=e.srOnly,u=e.className,d=e.htmlFor,m=Object(l.a)(e,["bsPrefix","column","srOnly","className","htmlFor"]),f=Object(i.useContext)(b).controlId;a=Object(v.b)(a,"form-label");var p=c()(u,a,s&&"sr-only",r&&"col-form-label");return d=d||f,r?o.a.createElement(D,Object(n.a)({as:"label",className:p,htmlFor:d},m)):o.a.createElement("label",Object(n.a)({ref:t,className:p,htmlFor:d},m))}));S.displayName="FormLabel",S.defaultProps={column:!1,srOnly:!1};var I=S,P=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,i=e.as,s=void 0===i?"small":i,u=e.muted,d=Object(l.a)(e,["bsPrefix","className","as","muted"]);return a=Object(v.b)(a,"form-text"),o.a.createElement(s,Object(n.a)({},d,{ref:t,className:c()(r,a,u&&"text-muted")}))}));P.displayName="FormText";var T=P,F=o.a.forwardRef((function(e,t){return o.a.createElement(O,Object(n.a)({},e,{ref:t,type:"switch"}))}));F.displayName="Switch",F.Input=O.Input,F.Label=O.Label;var A=F,M=a(37),z=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.inline,i=e.className,s=e.validated,u=e.as,d=void 0===u?"form":u,m=Object(l.a)(e,["bsPrefix","inline","className","validated","as"]);return a=Object(v.b)(a,"form"),o.a.createElement(d,Object(n.a)({},m,{ref:t,className:c()(i,s&&"was-validated",r&&a+"-inline")}))}));z.displayName="Form",z.defaultProps={inline:!1},z.Row=Object(M.a)("form-row"),z.Group=N,z.Control=j,z.Check=O,z.Switch=A,z.Label=I,z.Text=T;t.a=z},379:function(e,t,a){"use strict";a.r(t);var n=a(29),l=a(0),r=a.n(l),c=(a(180),a(166)),i=a(30),o=a(34),s=a(144),u=a(142);function d(){var e=Object(s.a)(["\n\n  width: 7vw;\n  text-align: center;\n  list-style: none;\n\n  :nth-child(7n + 1),\n  :nth-child(7n) {\n    color: #969696;\n  }\n"]);return d=function(){return e},e}function m(){var e=Object(s.a)(["\n  display: flex;\n  margin: 3.3vw 0 0.3vw 0vw;\n"]);return m=function(){return e},e}function f(){var e=Object(s.a)(["\n  padding: 0.2vw 0.2vw 0.2vw;\n  width: ",";\n  border: 0.5px solid #e4e3e6;\n  border-radius: 5px;\n  text-align: center;\n  font-size: 0.8rem;\n  cursor: pointer;\n  position: relative;\n  right: 0vw;\n  list-style: none;\n\n"]);return f=function(){return e},e}function b(){var e=Object(s.a)(["\n  margin: 2.5vw 1vw 0 0;\n  width: 30vw;\n  position: absolute;\n  right: 0vw;\n  left: 41vw;\n  /* top: 4.5vw; */\n\n"]);return b=function(){return e},e}function v(){var e=Object(s.a)(["\n  font-size: 1.0rem;\n  font-weight: 200;\n  position: relative;\n  left: 5vw;\n  top: 2.6vw;\n"]);return v=function(){return e},e}function p(){var e=Object(s.a)(["\n  font-size: 2rem;\n  font-weight: 700;\n  position: relative;\n  left: 4vw;\n  top: 1.8vw;\n"]);return p=function(){return e},e}function E(){var e=Object(s.a)(["\n  margin:.7vw;\n"]);return E=function(){return e},e}function h(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 49vw;\n  height: 9vw;\n  border: 2px solid #e4e3e6;\n  border-radius: 2px;\n  margin: 20px 20px 0 20px;\n"]);return h=function(){return e},e}var g=u.a.section(h()),y=u.a.section(E()),O=u.a.div(p()),w=u.a.div(v()),j=u.a.div(b()),x=u.a.li(f(),(function(e){return e.width||"1.5vw"})),N=u.a.div(m()),k=u.a.li(d()),C=["January","February","March","April","May","June","July","August","September","October","November","December"],D=["SUN","MON","TUE","WED","THU","FRI","SAT"],S=function(e){var t=e.year,a=e.month,n=e.goToday,l=e.setMonth;return r.a.createElement(g,null,r.a.createElement(y,null,r.a.createElement("div",{className:"row"},r.a.createElement(O,null,C[(12e3+a-1)%12]),r.a.createElement(w,null,(a+12e3-1)%12+1," / ",parseInt((12*t+a-1)/12)),r.a.createElement(j,null,r.a.createElement("div",{className:"row"}),r.a.createElement("div",{className:"row"},r.a.createElement(x,{onClick:function(){return l(a-1)}},"<"),r.a.createElement(x,{width:"4vw",onClick:function(){return n()}},"TODAY"),r.a.createElement(x,{onClick:function(){return l(a+1)}},">"))))),r.a.createElement(N,null,D.map((function(e,t){return r.a.createElement(k,{key:t},e)}))))},I=a(162),P=a.n(I),T=a(163),F=a(376),A=a(137);function M(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1vw;\n  font-weight: 700;\n  border-bottom: 2px solid #d3d3d3;\n"]);return M=function(){return e},e}function z(){var e=Object(s.a)(["\n  position: absolute;\n  width: fit-content;\n  max-width: 40vw;\n  height: fit-content;\n  max-height: 40vw;\n  border-radius: 10px;\n  background-color: #f2edf3;\n  text-align: left;\n  color: black;\n  z-index: 999;\n"]);return z=function(){return e},e}function R(){var e=Object(s.a)(["\n  margin-bottom: 10px;\n  td,\n  th {\n    padding: 5px;\n  }\n"]);return R=function(){return e},e}var q=u.a.table(R()),L=u.a.div(z()),_=u.a.div(M()),V=function(e){var t=e.date,a=(e.openModal,e.setOpenModal),i=e.evtList,o=Object(l.useState)(""),s=Object(n.a)(o,2),u=s[0],d=s[1],m=Object(l.useState)(""),f=Object(n.a)(m,2),b=f[0],v=f[1],p=Object(l.useState)(""),E=Object(n.a)(p,2),h=E[0],g=E[1],y=Object(l.useState)(""),O=Object(n.a)(y,2),w=O[0],j=O[1],x=Object(l.useState)(""),N=Object(n.a)(x,2),k=(N[0],N[1]),C={cid:"",cname:"",sdatetime:"",edatetime:"",visibility:"",weekly:"",enddate:""},D=Object(l.useState)(C),S=Object(n.a)(D,2),I=S[0],P=S[1],T=Object(l.useState)(!1),M=Object(n.a)(T,2),z=M[0],R=M[1],V=Object(l.useState)(!1),U=Object(n.a)(V,2),G=U[0],J=U[1],H=function(e,t){void 0!==i&&i.map((function(e,a){e.cid===t&&(console.log("evt",e),P(e))})),J(!0)};return Object(l.useEffect)((function(){console.log("UpdateEventContent",I)}),[I]),r.a.createElement(L,{className:"card",style:{width:"fit-content"}},r.a.createElement(_,null,t,r.a.createElement("button",{type:"button",className:"btn btn-gradient-primary btn-sm",onClick:function(){a(!1)}},"CLOSE")),r.a.createElement(F.a,{className:"table-responsive"},r.a.createElement(q,{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Start"),r.a.createElement("th",null,"End"),r.a.createElement("th",null,"Edit"))),r.a.createElement("tbody",null,i.map((function(e,t){return r.a.createElement(Y,{key:e.cid,cid:e.cid,cname:!1===e.visibility||"private"===e.visibility?"\ube44\uacf5\uac1c":e.cname,sdatetime:e.sdatetime,edatetime:e.edatetime})}))))),G&&r.a.createElement(F.a,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"col-4",style:{padding:"0.75rem"}},"Event Name:"," "),r.a.createElement(c.a.Control,{type:"text",id:"event_content",value:u,onChange:function(e){return d(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"col-4",style:{padding:"0.75rem"}},"Visibility:"),r.a.createElement("select",{className:"form-control col-8",id:"event_visibility",value:b,onChange:function(e){return v(e.target.value)}},r.a.createElement("option",{value:"default"},"default"),r.a.createElement("option",{value:"public"},"public"),r.a.createElement("option",{value:"private"},"private"))," "),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"col-4",style:{padding:"0.75rem"}},"Start Date:"," "),r.a.createElement(c.a.Control,{type:"datetime-local",id:"event_sdue",value:h,onChange:function(e){return g(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"col-4",style:{padding:"0.75rem"}},"End Date:"),r.a.createElement(c.a.Control,{type:"datetime-local",id:"event_edue",value:w,onChange:function(e){j(e.target.value),k(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){!function(){var e={cid:I.cid,cname:u,sdatetime:h,edatetime:w,visibility:b,weekly:0,enddate:I.enddate};A.a.put("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/event",e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log(e.data),alert("Event Updated."),window.location.reload()})).catch((function(e){console.log(e)}))}()}},"OK"),r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(){J(!1)}},"Cancel")),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"form-check"},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:z,onChange:function(){R(!z)}}),r.a.createElement("i",{className:"input-helper"}),"Delete all repeated schedules?","")),r.a.createElement("div",null,r.a.createElement("button",{type:"button",style:{margin:"5px 10px"},className:"btn btn-inverse-danger btn-sm",onClick:function(){!function(){var e={cid:I.cid,deleteall:z};A.a.delete("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/event?cid=".concat(e.cid,"&deleteall=").concat(e.deleteall),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log(e.data),alert("Event Deleted."),P(C),window.location.reload()})).catch((function(e){console.log(e),alert("Event Delete Failed.")}))}()}},"DELETE")))));function Y(e){var t=e.cid,a=e.cname,n=e.sdatetime,l=e.edatetime;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(e){return H(e,t)}},"EDIT")))}};function U(){var e=Object(s.a)(["\n  margin-top: 0.3vw;\n  padding-left: 0.5vw;\n  color: red;\n  font-weight: 700;\n  background-color: skyblue;\n  border-radius: 5px;\n"]);return U=function(){return e},e}function G(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n"]);return G=function(){return e},e}function J(){var e=Object(s.a)(["\n  margin-top: 0.2vw;\n  padding: 0;\n  font-size: 0.7vw;\n"]);return J=function(){return e},e}function H(){var e=Object(s.a)(["\n  padding: 0;\n"]);return H=function(){return e},e}function Y(){var e=Object(s.a)(["\n  overflow: auto;\n  height: 70px;\n  color: black;\n\n  ",";\n  ",";\n  &::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n    border-radius: 6px;\n    background: rgba(255, 255, 255, 0.4);\n  }\n  &::-webkit-scrollbar-thumb {\n    background: rgba(0, 0, 0, 0.3);\n    border-radius: 6px;\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(s.a)(["\n  padding: 0.5em 0.6em 0 0;\n  font-size: 1em;\n  color: black;\n\n  ",";\n  ",";\n"]);return K=function(){return e},e}function W(){var e=Object(s.a)(["\n  ","\n"]);return W=function(){return e},e}function B(){var e=Object(s.a)(["\n  position: relative;\n  padding: 0 0vw 0 0.7vw;\n  width: 7vw;\n  height: 8vw;\n  text-align: left;\n  border-bottom: 1px solid #e4e3e6;\n  border-left: 1px solid #e4e3e6;\n  list-style: none;\n  font-size: 1.1rem;\n  :nth-child(7n + 1),\n  :nth-child(7n) {\n    color: #969696;\n    background-color: #f5f5f5;\n  }\n"]);return B=function(){return e},e}var Q=u.a.li(B()),X=u.a.span(W(),(function(e){return e.findToday&&e.idx>=e.lastDate&&e.idx<=e.firstDate&&" position: relative;\n    padding: .5vw;\n    // border-radius: 50%;\n    font-size: 1.2vw;\n    font-weight: 700;\n    color: #fe7c96;\n "})),Z=u.a.div(K(),(function(e){return e.idx<e.lastDate&&"color: #969696;"}),(function(e){return e.firstDate>0&&e.idx>e.firstDate-1&&"\n    color: #969696;\n  "})),$=u.a.div(Y(),(function(e){return e.idx<e.lastDate&&"opacity: 0;"}),(function(e){return e.firstDate>0&&e.idx>e.firstDate-1&&"\n    opacity: 0;\n  "})),ee=u.a.ul(H()),te=u.a.li(J()),ae=(u.a.div(G()),u.a.div(U()),function(e){var t=e.lastDate,a=e.firstDate,c=e.elm,i=e.findToday,o=e.month,s=e.year,u=e.idx,d=(e.holiday,e.evtList),m="".concat(s,"-").concat(o,"-").concat(c),f=Object(l.useState)(!1),b=Object(n.a)(f,2),v=b[0],p=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{onDoubleClick:function(){p(!0)}},r.a.createElement(Z,{idx:u,lastDate:t,firstDate:a,findToday:i},r.a.createElement(X,{findToday:i},c)),r.a.createElement($,{idx:u,lastDate:t,firstDate:a},r.a.createElement(ee,{className:"list-ticked"},void 0!==d&&d.map((function(e,t){return r.a.createElement(te,{key:e.cid},!1===e.visibility||"private"===e.visibility?"\ube44\uacf5\uac1c":e.cname)})))),v&&r.a.createElement(V,{date:m,setOpenModal:p,openModal:!0,evtList:d})))});function ne(){var e=Object(s.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  margin: 0 10px 20px 20px;\n  width: 49vw;\n"]);return ne=function(){return e},e}var le=[{visibility:"public",cid:61234,edatetime:"2023-05-02T14:00:00",enddate:null,uid:"tester",cname:"my event test",sdatetime:"2023-05-01T14:00:00",weekly:"0"}],re=u.a.div(ne()),ce=function(e){var t=e.totalDate,a=e.today,c=e.month,i=e.year,o=t.indexOf(1),s=t.indexOf(1,7),u=Object(l.useState)([]),d=Object(n.a)(u,2),m=d[0],f=d[1],b=Object(l.useState)(new Map),v=Object(n.a)(b,2),p=v[0],E=v[1],h=Object(l.useState)([0]),g=Object(n.a)(h,2),y=g[0],O=g[1],w=t.indexOf(a),j=(new Date).getMonth()+1,x=function(){var e=Object(T.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("http://localhost:8000/?solYear=".concat(i,"&solMonth=").concat(c),C);case 3:t=e.sent,console.log(t.data),O(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){f(le),N()}),[]);var N=function(){A.a.get("".concat("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app","/event"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=[];t.push(e.data),f(t[0])})).catch((function(e){alert(e),console.log(e)}))};function k(e,t,a){var n=[],l="".concat(e,"-").concat(String(t).padStart(2,"0"),"-").concat(String(a).padStart(2,"0"));return p.has(l)&&(n=p.get(l)),n}Object(l.useEffect)((function(){!function(e){var t=new Map;e.forEach((function(e){if(void 0!==e.sdatetime&&void 0!==e.edatetime){var a=e.sdatetime.split("T")[0],n=e.edatetime.split("T")[0];if(t.has(a)?t.get(a).push(e):t.set(a,[e]),a!==n)for(var l=new Date(a),r=new Date(n);l<=r;){var c=l.toISOString().split("T")[0];t.has(c)?t.get(c).some((function(t){return t.cid===e.cid}))||t.get(c).push(e):t.set(c,[e]),l.setDate(l.getDate()+1)}}})),E(t)}(m)}),[m]);var C={method:"GET",redirect:"follow",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Methods":"OPTIONS,POST,GET"}};return Object(l.useEffect)((function(){x()}),[c]),r.a.createElement(re,null,t.map((function(e,t){return r.a.createElement(ae,{key:t,idx:t,lastDate:o,firstDate:s,elm:e,findToday:w===t&&c===j&&w,month:c,year:i,holiday:y.item,evtList:k(i,c,e)})})))},ie=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,c=Object(l.useState)(a),i=Object(n.a)(c,2),s=i[0],u=i[1],d=Object(l.useState)(t),m=Object(n.a)(d,2),f=m[0],b=(m[1],Object(l.useState)([])),v=Object(n.a)(b,2),p=v[0],E=v[1],h=function(e){var a=new Date(t,e-1,0).getDate(),n=new Date(t,e-1,0).getDay(),l=new Date(t,e,0).getDay(),r=new Date(t,e,0).getDate(),c=[];if(6!==n)for(var i=0;i<n+1;i++)c.unshift(a-i);for(var s=[],u=1;u<7-l;u++){if(0===u)return s;s.push(u)}var d;return d=Object(o.a)(Array(r+1).keys()).slice(1),c.concat(d,s)};Object(l.useEffect)((function(){E(h(7))}),[]),Object(l.useEffect)((function(){E(h(s))}),[s]);var g=Object(l.useState)(0),y=Object(n.a)(g,2),O=y[0],w=y[1];return r.a.createElement("div",null,r.a.createElement(S,{year:f,month:s,setMonth:u,goToday:function(){var e=(new Date).getDate(),t=(new Date).getMonth()+1;u(t),w(e)}}),r.a.createElement(ce,{totalDate:p,today:O,month:s,year:f}))};function oe(){var e=Object(l.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(i.useHistory)();A.a.get("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/login",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){e.data.success})).catch((function(e){o(!0)})),Object(l.useEffect)((function(){a&&s.push("/user-pages/login-1")}),[a]);var u=Object(l.useState)(""),d=Object(n.a)(u,2),m=d[0],f=d[1],b=Object(l.useState)(""),v=Object(n.a)(b,2),p=v[0],E=v[1],h=Object(l.useState)(""),g=Object(n.a)(h,2),y=g[0],O=g[1],w=Object(l.useState)(""),j=Object(n.a)(w,2),x=j[0],N=j[1],k=Object(l.useState)(""),C=Object(n.a)(k,2),D=C[0],S=C[1],I=Object(l.useState)("none"),P=Object(n.a)(I,2),T=P[0],F=P[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"page-header"},r.a.createElement("h3",{className:"page-title"},r.a.createElement("span",{className:"page-title-icon bg-gradient-primary text-white mr-2"},r.a.createElement("i",{className:"mdi mdi-timetable"}))," ","User Schedule"," ")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 "},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body p-0 d-flex"},r.a.createElement("div",null,r.a.createElement(ie,{style:{flexDirection:"column"}})),r.a.createElement("div",{className:"col-sm-7 col-md-5 col-lg-4 stretch-card"},r.a.createElement("div",{className:"card "},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("h2",null,"Add Event")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Event Name: "),r.a.createElement(c.a.Control,{type:"text",id:"event_content",value:m,onChange:function(e){return f(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("label",null,"Visibility:"),r.a.createElement("select",{className:"form-control",id:"event_visibility",value:p,onChange:function(e){return E(e.target.value)}},r.a.createElement("option",{value:"default"},"default"),r.a.createElement("option",{value:"public"},"public"),r.a.createElement("option",{value:"private"},"private"))," ",r.a.createElement("br",null),r.a.createElement("label",null,"Start Date: "),r.a.createElement(c.a.Control,{type:"datetime-local",id:"event_sdue",value:y,onChange:function(e){return O(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("label",null,"End Date:"),r.a.createElement(c.a.Control,{type:"datetime-local",id:"event_edue",value:x,onChange:function(e){N(e.target.value),S(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("label",null,"Repeat:"),r.a.createElement("select",{className:"form-control",id:"event_repeat",value:T,onChange:function(e){F(e.target.value)}},r.a.createElement("option",{value:"none"},"none"),r.a.createElement("option",{value:"daily"},"daily"),r.a.createElement("option",{value:"weekly"},"weekly"),r.a.createElement("option",{value:"monthly"},"monthly")),r.a.createElement("br",null),"none"!==T&&r.a.createElement("div",null,r.a.createElement("label",null,"Repeat End Date: "),r.a.createElement(c.a.Control,{type:"date",id:"event_done",value:D,onChange:function(e){return S(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"btn btn-gradient-primary mr-2",id:"event_submit",onClick:function(){var e={cname:m,visibility:p,sdatetime:y,edatetime:x,weekly:0,enddate:D.split("T")[0]};A.a.post("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/event",e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){alert(e.data.msg),window.location.reload()})).catch((function(e){alert("add event failed")}))}},"Submit"),r.a.createElement("button",{className:"btn btn-light"},"Cancel"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"card-description"}," ","or ",r.a.createElement("br",null)," Fetch schedule via Google Calendar"," "),r.a.createElement("button",{type:"button",className:"btn btn-gradient-danger btn-fw",onClick:function(){console.log("google calendar clicked"),A.a.post("https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/google",{},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log(e),alert(e.data.msg),window.location.reload()})).catch((function(e){console.log(e),alert(e)}))}},r.a.createElement("i",{className:"mdi mdi-upload btn-icon-prepend"}),"\xa0Upload Google Calendar")),r.a.createElement("br",null),r.a.createElement("br",null))))))))}a.d(t,"Dashboard",(function(){return oe}));t.default=oe}}]);
//# sourceMappingURL=15.4e7e1fb3.chunk.js.map