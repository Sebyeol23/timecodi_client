{"version":3,"sources":["app/friends-timetable/components/Head.js","app/friends-timetable/components/CalendarModal.js","app/friends-timetable/components/Dates.js","app/friends-timetable/components/Body.js","app/friends-timetable/Main.js","app/friends-timetable/FriendTimetable.js"],"names":["Form","styled","section","Nav","Month","div","Year","BtnBox","Btn","li","props","width","Days","Day","MONTHS","DAY","Head","year","month","goToday","setMonth","className","parseInt","onClick","map","elm","idx","key","Table","table","Forms","Header","CalendarModal","date","setOpenModal","openModal","evtList","style","type","Container","evt","i","Schedule","cid","cname","visibility","sdatetime","edatetime","TodayCSS","span","findToday","lastDate","firstDate","DateNum","ScrollDiv","Lists","ul","List","Dates","holiday","useState","onDoubleClick","undefined","index","sampleEvtList","enddate","uid","weekly","Body","totalDate","today","fid","indexOf","setEvtList","Map","evtMap","setEvtMap","setHoliday","getMonth","Date","runAxios","a","axios","get","requestOptions","res","console","log","data","useEffect","fetchEvtList","headers","Authorization","localStorage","getItem","then","newEvtList","push","catch","err","alert","getEvtFromMap","String","padStart","has","newEvtMap","forEach","sdate","split","edate","set","currentDate","dateKey","toISOString","some","e","setDate","getDate","populateEvtMap","method","redirect","item","Main","DATE","YEAR","getFullYear","MONTH","setTotalDate","changeDate","PVLastDate","PVLastDay","getDay","ThisLasyDay","ThisLasyDate","PVLD","unshift","TLD","TD","Array","keys","slice","concat","setToday","TODAY","goMonth","FriendTimetable","oo","setOO","history","useHistory","useLocation","pathname","pop","response","success","color","flexDirection"],"mappings":"ioDAGA,IAqCMA,EAAOC,IAAOC,QAAV,KASJC,EAAMF,IAAOC,QAAV,KAGHE,EAAQH,IAAOI,IAAV,KAOLC,EAAOL,IAAOI,IAAV,KAOJE,EAASN,IAAOI,IAAV,KASNG,EAAMP,IAAOQ,GAAV,KAEE,SAACC,GACR,OAAOA,EAAMC,OAAS,WAapBC,EAAOX,IAAOI,IAAV,KAIJQ,EAAMZ,IAAOQ,GAAV,KAYHK,EAAS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAExHC,EAAM,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACxCC,EA3GF,SAACN,GAAW,IACfO,EAAmCP,EAAnCO,KAAMC,EAA6BR,EAA7BQ,MAAOC,EAAsBT,EAAtBS,QAASC,EAAaV,EAAbU,SAE9B,OACE,kBAACpB,EAAD,KACE,kBAACG,EAAD,KACE,yBAAKkB,UAAU,OACf,kBAACjB,EAAD,KACKU,GAAQ,KAAMI,EAAQ,GAAG,KAE5B,kBAACZ,EAAD,MACIY,EAAM,KAAM,GAAG,GAAG,EADtB,MAC4BI,UAAe,GAALL,EAAQC,EAAM,GAAG,KAGvD,kBAACX,EAAD,KACE,yBAAKc,UAAU,QAGf,yBAAKA,UAAU,OAEb,kBAACb,EAAD,CAAKe,QAAS,kBAAMH,EAASF,EAAQ,KAArC,KACA,kBAACV,EAAD,CAAKG,MAAM,MAAMY,QAAS,kBAAMJ,MAAhC,SACA,kBAACX,EAAD,CAAKe,QAAS,kBAAMH,EAASF,EAAQ,KAArC,SAMR,kBAACN,EAAD,KACGG,EAAIS,KAAI,SAACC,EAAKC,GACb,OAAO,kBAACb,EAAD,CAAKc,IAAKD,GAAMD,S,opBC6BjC,IAAMG,EAAQ3B,IAAO4B,MAAV,KAQLC,EAAQ7B,IAAOI,IAAV,KAYL0B,EAAS9B,IAAOI,IAAV,KAOG2B,EApFf,YAAoE,IAA3CC,EAA0C,EAA1CA,KAAiBC,GAAyB,EAApCC,UAAoC,EAAzBD,cAAcE,EAAW,EAAXA,QACtD,OACE,kBAACN,EAAD,CAAOT,UAAU,OAAOgB,MAAO,CAAE1B,MAAO,gBACtC,kBAACoB,EAAD,KACGE,EACD,4BACEK,KAAK,SACLjB,UAAU,kCACVE,QAAS,WACPW,GAAa,KAJjB,UAUF,kBAACK,EAAA,EAAD,CAAWlB,UAAU,oBACnB,kBAACO,EAAD,CAAOP,UAAU,SACf,+BACE,4BACE,qCACA,qCACA,qCAGJ,+BACGe,EAAQZ,KAAI,SAAUgB,EAAKC,GAC1B,OACE,kBAACC,EAAD,CACEf,IAAKa,EAAIG,IACTA,IAAKH,EAAIG,IACTC,OACqB,IAAnBJ,EAAIK,YAA2C,YAAnBL,EAAIK,WAC5B,qBACAL,EAAII,MAEVE,UAAWN,EAAIM,UACfC,UAAWP,EAAIO,mBAU/B,SAASL,EAAT,GAAwD,EAApCC,IAAqC,IAAhCC,EAA+B,EAA/BA,MAAOE,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,UACzC,OACE,4BACE,4BAAKH,GACL,4BAAKE,GACL,4BAAKC,M,khDCMb,IAAM/C,EAAOC,IAAOQ,GAAV,KAgBJuC,EAAW/C,IAAOgD,KAAV,KACV,SAACvC,GAAD,OACAA,EAAMwC,WACNxC,EAAMgB,KAAOhB,EAAMyC,UACnBzC,EAAMgB,KAAOhB,EAAM0C,WAFnB,gJAWEC,EAAUpD,IAAOI,IAAV,KAKT,SAACK,GAAD,OAAWA,EAAMgB,IAAMhB,EAAMyC,UAAlB,qBACX,SAACzC,GAAD,OACAA,EAAM0C,UAAY,GAClB1C,EAAMgB,IAAMhB,EAAM0C,UAAY,GAD9B,+BAMEE,EAAYrD,IAAOI,IAAV,KAKX,SAACK,GAAD,OAAWA,EAAMgB,IAAMhB,EAAMyC,UAAlB,iBACX,SAACzC,GAAD,OACAA,EAAM0C,UAAY,GAClB1C,EAAMgB,IAAMhB,EAAM0C,UAAY,GAD9B,2BAgBEG,EAAQtD,IAAOuD,GAAV,KAGLC,EAAOxD,IAAOQ,GAAV,KAmBKiD,IAdEzD,IAAOI,IAAV,KAKEJ,IAAOI,IAAV,KAxIb,YAUI,IATF8C,EASC,EATDA,SACAC,EAQC,EARDA,UACA3B,EAOC,EAPDA,IACAyB,EAMC,EANDA,UACAhC,EAKC,EALDA,MACAD,EAIC,EAJDA,KACAS,EAGC,EAHDA,IAEAU,GACC,EAFDuB,QAEC,EADDvB,SAEIH,EAAI,UAAMhB,EAAN,YAAcC,EAAd,YAAuBO,GAD9B,EAGiCmC,oBAAS,GAH1C,mBAGMzB,EAHN,KAGiBD,EAHjB,KAUD,OACE,oCACE,kBAAC,EAAD,CAAM2B,cARS,WACjB3B,GAAa,KAQT,kBAACmB,EAAD,CACE3B,IAAKA,EACLyB,SAAUA,EACVC,UAAWA,EACXF,UAAWA,GAEX,kBAACF,EAAD,CAAUE,UAAWA,GAAYzB,IAEnC,kBAAC6B,EAAD,CAAW5B,IAAKA,EAAKyB,SAAUA,EAAUC,UAAWA,GAClD,kBAACG,EAAD,CAAOlC,UAAU,oBACFyC,IAAZ1B,GACCA,EAAQZ,KAAI,SAACgB,EAAKuB,GAChB,OACE,kBAACN,EAAD,CAAM9B,IAAKa,EAAIG,MACO,IAAnBH,EAAIK,YAA2C,YAAnBL,EAAIK,WAC7B,qBACAL,EAAII,YAMnBT,GACC,kBAAC,EAAD,CACEF,KAAMA,EACNC,aAAcA,EACdC,WAAW,EACXC,QAASA,Q,0KCjDrB,IAIM4B,GAAgB,CACpB,CACEnB,WAAY,SACZF,IAAK,MACLI,UAAW,sBACXkB,QAAS,KACTC,IAAK,SACLtB,MAAO,gBACPE,UAAW,sBACXqB,OAAQ,MAwINnE,GAAOC,IAAOI,IAAV,MAMK+D,GA1IF,SAAC1D,GAAW,IACf2D,EAAuC3D,EAAvC2D,UAAWC,EAA4B5D,EAA5B4D,MAAOpD,EAAqBR,EAArBQ,MAAOD,EAAcP,EAAdO,KAAMsD,EAAQ7D,EAAR6D,IACjCpB,EAAWkB,EAAUG,QAAQ,GAC7BpB,EAAYiB,EAAUG,QAAQ,EAAG,GAHjB,EAIQZ,mBAAS,IAJjB,mBAIfxB,EAJe,KAINqC,EAJM,OAKIb,mBAAS,IAAIc,KALjB,mBAKjBC,EALiB,KAKTC,EALS,OAMQhB,mBAAS,CAAC,IANlB,mBAMfD,EANe,KAMNkB,EANM,KAShB3B,EAAYmB,EAAUG,QAAQF,GAC9BQ,GAAW,IAAIC,MAAOD,WAAa,EACnCE,EAAQ,uCAAG,4BAAAC,EAAA,+EAEKC,KAAMC,IAAN,yCACkBlE,EADlB,qBACmCC,GACnDkE,GAJW,OAEPC,EAFO,OAMbC,QAAQC,IAAIF,EAAIG,MAChBX,EAAWQ,EAAIG,MAPF,gDASbF,QAAQC,IAAR,MATa,yDAAH,qDAadE,qBAAU,WACRhB,EAAWT,IACX0B,MACC,IAEH,IAAMA,EAAe,WACnBR,KACGC,IADH,UA/CY,6DA+CZ,0BAC+BZ,GAAO,CAClCoB,QAAS,CACPC,cAAeC,aAAaC,QAAQ,YAGvCC,MAAK,SAACV,GACL,IAAIW,EAAa,GACjBA,EAAWC,KAAKZ,EAAIG,MACpBf,EAAWuB,EAAW,IACtBV,QAAQC,IAAI,cAAeS,EAAW,OAEvCE,OAAM,SAACC,GACNC,MAAMD,GACNb,QAAQC,IAAIY,OAyClB,SAASE,EAAcpF,EAAMC,EAAOO,GAClC,IAAIW,EAAU,GACRH,EAAI,UAAMhB,EAAN,YAAcqF,OAAOpF,GAAOqF,SAAS,EAAG,KAAxC,YAAgDD,OACxD7E,GACA8E,SAAS,EAAG,MAId,OAHI5B,EAAO6B,IAAIvE,KACbG,EAAUuC,EAAOQ,IAAIlD,IAEhBG,EAZTqD,qBAAU,YAjCa,SAACrD,GACtB,IAAMqE,EAAY,IAAI/B,IAEtBtC,EAAQsE,SAAQ,SAAClE,GACf,QAAsBsB,IAAlBtB,EAAIM,gBAA6CgB,IAAlBtB,EAAIO,UAAyB,CAC9D,IAAI4D,EAAQnE,EAAIM,UAAU8D,MAAM,KAAK,GACjCC,EAAQrE,EAAIO,UAAU6D,MAAM,KAAK,GAQrC,GANIH,EAAUD,IAAIG,GAChBF,EAAUtB,IAAIwB,GAAOV,KAAKzD,GAE1BiE,EAAUK,IAAIH,EAAO,CAACnE,IAGpBmE,IAAUE,EAIZ,IAHA,IAAIE,EAAc,IAAIhC,KAAK4B,GACrBxD,EAAW,IAAI4B,KAAK8B,GAEnBE,GAAe5D,GAAU,CAC9B,IAAI6D,EAAUD,EAAYE,cAAcL,MAAM,KAAK,GAC9CH,EAAUD,IAAIQ,GAEPP,EAAUtB,IAAI6B,GAASE,MAAK,SAACC,GAAD,OAAOA,EAAExE,MAAQH,EAAIG,QAC3D8D,EAAUtB,IAAI6B,GAASf,KAAKzD,GAF5BiE,EAAUK,IAAIE,EAAS,CAACxE,IAI1BuE,EAAYK,QAAQL,EAAYM,UAAY,QAKpDzC,EAAU6B,GAIVa,CAAelF,KACd,CAACA,IAaJ,IAAMgD,EAAiB,CACrBmC,OAAQ,MACRC,SAAU,SACV7B,QAAS,CACP,8BAA+B,IAC/B,+BAAgC,eAChC,+BAAgC,qBAQpC,OAJAF,qBAAU,WACRT,MACC,CAAC9D,IAGF,kBAAC,GAAD,KACGmD,EAAU7C,KAAI,SAACC,EAAKC,GACnB,OACE,kBAAC,GAAD,CACEC,IAAKD,EACLA,IAAKA,EACLyB,SAAUA,EACVC,UAAWA,EACX3B,IAAKA,EACLyB,UAAWA,IAAcxB,GAAOR,IAAU4D,GAAY5B,EACtDhC,MAAOA,EACPD,KAAMA,EACN0C,QAASA,EAAQ8D,KACjBrF,QAASiE,EAAcpF,EAAMC,EAAOO,UCrEjCiG,GAzEF,SAAChH,GAAW,IACf6D,EAAQ7D,EAAR6D,IACJoD,EAAO,IAAI5C,KACT6C,EAAOD,EAAKE,cACZC,EAAQH,EAAK7C,WAAa,EAJV,EAMIlB,mBAASkE,GANb,mBAMf5G,EANe,KAMRE,EANQ,OAOEwC,mBAASgE,GAPX,mBAOf3G,EAPe,aAQY2C,mBAAS,KARrB,mBAQfS,EARe,KAQJ0D,EARI,KAUhBC,EAAa,SAAC9G,GAElB,IAAI+G,EAAa,IAAIlD,KAAK6C,EAAM1G,EAAQ,EAAG,GAAGmG,UAC1Ca,EAAY,IAAInD,KAAK6C,EAAM1G,EAAQ,EAAG,GAAGiH,SAEvCC,EAAc,IAAIrD,KAAK6C,EAAM1G,EAAO,GAAGiH,SACvCE,EAAe,IAAItD,KAAK6C,EAAM1G,EAAO,GAAGmG,UAG1CiB,EAAO,GACX,GAAkB,IAAdJ,EACF,IAAK,IAAIzF,EAAI,EAAGA,EAAIyF,EAAY,EAAGzF,IACjC6F,EAAKC,QAAQN,EAAaxF,GAK9B,IADA,IAAI+F,EAAM,GACD/F,EAAI,EAAGA,EAAI,EAAI2F,EAAa3F,IAAK,CACxC,GAAU,IAANA,EACF,OAAO+F,EAETA,EAAIvC,KAAKxD,GAIX,IAAIgG,EAIJ,OAFAA,EAAK,YAAIC,MAAML,EAAe,GAAGM,QAAQC,MAAM,GAExCN,EAAKO,OAAOJ,EAAID,IAGzB/C,qBAAU,WACRsC,EAAaC,EAAW,MACvB,IAEHvC,qBAAU,WACRsC,EAAaC,EAAW9G,MACvB,CAACA,IAhDkB,MAkDI0C,mBAAS,GAlDb,mBAkDfU,EAlDe,KAkDRwE,EAlDQ,KA2DtB,OACE,6BACE,kBAAC,EAAD,CAAM7H,KAAMA,EAAMC,MAAOA,EAAOE,SAAUA,EAAUD,QATxC,WACd,IAAI4H,GAAQ,IAAIhE,MAAOsC,UACnB2B,GAAU,IAAIjE,MAAOD,WAAa,EACtC1D,EAAS4H,GACTF,EAASC,MAMP,kBAAC,GAAD,CACE1E,UAAWA,EACXC,MAAOA,EACPpD,MAAOA,EACPD,KAAMA,EACNsD,IAAKA,MC1DN,SAAS0E,KAAmB,IAAD,EACZrF,oBAAS,GADG,mBACzBsF,EADyB,KACrBC,EADqB,KAE1BC,EAAUC,uBAIZ9E,EAFW+E,wBACYC,SACL3C,MAAM,KAAK4C,MACjClE,QAAQC,IAAI,MAAOhB,GAEnBW,KACGC,IAAI,mEAAoE,CACvEQ,QAAS,CACPC,cAAeC,aAAaC,QAAQ,YAGvCC,MAAK,SAAC0D,GACDA,EAASjE,KAAKkE,WAInBxD,OAAM,SAACC,GACNgD,GAAM,MAGV1D,qBAAU,WACJyD,GACFE,EAAQnD,KAAK,yBAGd,CAACiD,IA7B4B,MA2CRtF,mBAAS,IA3CD,gCA4CFA,mBAAS,KA5CP,gCA6CNA,mBAAS,KA7CH,gCA8CNA,mBAAS,KA9CH,6BAgDhC,OACE,6BACE,yBAAKvC,UAAU,eACb,wBAAIA,UAAU,cACZ,0BAAMA,UAAU,uDACd,uBAAGA,UAAU,uBACP,IAHV,UAIUkD,EAJV,cAI0B,MAI5B,yBAAKlD,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,OAAOgB,MAAO,CAAE,cAAe,UAC5C,yBAAKhB,UAAU,oBACb,yBAAKgB,MAAO,CAAE,aAAc,UAC1B,uBAAGA,MAAO,CAAEsH,MAAO,SAAnB,gGAIA,6BACE,kBAAC,GAAD,CACEpF,IAAKA,EACLlC,MAAO,CAAEuH,cAAe,SAAU,aAAc,iB,iDAYrDX","file":"static/js/16.4e9e75df.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Head = (props) => {\r\n  const { year, month, goToday, setMonth } = props;\r\n\r\n  return (\r\n    <Form>\r\n      <Nav>\r\n        <div className=\"row\">\r\n        <Month>\r\n            {MONTHS[(12000+month - 1)%12]}\r\n          </Month>\r\n          <Year>\r\n            {(month+12000-1)%12+1} / {parseInt((year*12+month-1)/12)} \r\n          </Year>\r\n\r\n          <BtnBox>\r\n            <div className=\"row\">\r\n\r\n            </div>\r\n            <div className=\"row\">\r\n\r\n              <Btn onClick={() => setMonth(month - 1)} >&lt;</Btn>\r\n              <Btn width=\"4vw\" onClick={() => goToday()}>TODAY</Btn>\r\n              <Btn onClick={() => setMonth(month + 1)}>&gt;</Btn>\r\n            </div>\r\n          </BtnBox>\r\n        </div>\r\n\r\n      </Nav>\r\n      <Days>\r\n        {DAY.map((elm, idx) => {\r\n          return <Day key={idx}>{elm}</Day>;\r\n        })}\r\n      </Days>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst Form = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 49vw;\r\n  height: 9vw;\r\n  border: 2px solid #e4e3e6;\r\n  border-radius: 2px;\r\n  margin: 20px 20px 0 20px;\r\n`;\r\nconst Nav = styled.section`\r\n  margin:.7vw;\r\n`;\r\nconst Month = styled.div`\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  position: relative;\r\n  left: 4vw;\r\n  top: 1.8vw;\r\n`;\r\nconst Year = styled.div`\r\n  font-size: 1.0rem;\r\n  font-weight: 200;\r\n  position: relative;\r\n  left: 5vw;\r\n  top: 2.6vw;\r\n`;\r\nconst BtnBox = styled.div`\r\n  margin: 2.5vw 1vw 0 0;\r\n  width: 30vw;\r\n  position: absolute;\r\n  right: 0vw;\r\n  left: 41vw;\r\n  /* top: 4.5vw; */\r\n\r\n`;\r\nconst Btn = styled.li`\r\n  padding: 0.2vw 0.2vw 0.2vw;\r\n  width: ${(props) => {\r\n    return props.width || '1.5vw';\r\n  }};\r\n  border: 0.5px solid #e4e3e6;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n  position: relative;\r\n  right: 0vw;\r\n  list-style: none;\r\n\r\n`;\r\n\r\nconst Days = styled.div`\r\n  display: flex;\r\n  margin: 3.3vw 0 0.3vw 0vw;\r\n`;\r\nconst Day = styled.li`\r\n\r\n  width: 7vw;\r\n  text-align: center;\r\n  list-style: none;\r\n\r\n  :nth-child(7n + 1),\r\n  :nth-child(7n) {\r\n    color: #969696;\r\n  }\r\n`;\r\n\r\nconst MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\nconst DAY = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\r\nexport default Head;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Form, Container } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nfunction CalendarModal({ date, openModal, setOpenModal, evtList }) {\r\n  return (\r\n    <Forms className=\"card\" style={{ width: \"fit-content\" }}>\r\n      <Header>\r\n        {date}\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-gradient-primary btn-sm\"\r\n          onClick={() => {\r\n            setOpenModal(false);\r\n          }}\r\n        >\r\n          CLOSE\r\n        </button>\r\n      </Header>\r\n      <Container className=\"table-responsive\">\r\n        <Table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Title</th>\r\n              <th>Start</th>\r\n              <th>End</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {evtList.map(function (evt, i) {\r\n              return (\r\n                <Schedule\r\n                  key={evt.cid}\r\n                  cid={evt.cid}\r\n                  cname={\r\n                    evt.visibility === false || evt.visibility === \"private\"\r\n                      ? \"비공개\"\r\n                      : evt.cname\r\n                  }\r\n                  sdatetime={evt.sdatetime}\r\n                  edatetime={evt.edatetime}\r\n                />\r\n              );\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n    </Forms>\r\n  );\r\n\r\n  function Schedule({ cid, cname, sdatetime, edatetime }) {\r\n    return (\r\n      <tr>\r\n        <td>{cname}</td>\r\n        <td>{sdatetime}</td>\r\n        <td>{edatetime}</td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nconst Table = styled.table`\r\n  margin-bottom: 10px;\r\n  td,\r\n  th {\r\n    padding: 5px;\r\n  }\r\n`;\r\n\r\nconst Forms = styled.div`\r\n  position: absolute;\r\n  width: fit-content;\r\n  max-width: 40vw;\r\n  height: fit-content;\r\n  max-height: 40vw;\r\n  border-radius: 10px;\r\n  background-color: #f2edf3;\r\n  text-align: left;\r\n  color: black;\r\n  z-index: 999;\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 1vw;\r\n  font-weight: 700;\r\n  border-bottom: 2px solid #d3d3d3;\r\n`;\r\nexport default CalendarModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport CalendarModal from \"./CalendarModal\";\r\n\r\nfunction Dates({\r\n  lastDate,\r\n  firstDate,\r\n  elm,\r\n  findToday,\r\n  month,\r\n  year,\r\n  idx,\r\n  holiday,\r\n  evtList,\r\n}) {\r\n  let date = `${year}-${month}-${elm}`;\r\n  //   console.log(evtList);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const handleOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n  return (\r\n    <>\r\n      <Form onDoubleClick={handleOpen}>\r\n        <DateNum\r\n          idx={idx}\r\n          lastDate={lastDate}\r\n          firstDate={firstDate}\r\n          findToday={findToday}\r\n        >\r\n          <TodayCSS findToday={findToday}>{elm}</TodayCSS>\r\n        </DateNum>\r\n        <ScrollDiv idx={idx} lastDate={lastDate} firstDate={firstDate}>\r\n          <Lists className=\"list-ticked\">\r\n            {evtList !== undefined &&\r\n              evtList.map((evt, index) => {\r\n                return (\r\n                  <List key={evt.cid}>\r\n                    {evt.visibility === false || evt.visibility === \"private\"\r\n                      ? \"비공개\"\r\n                      : evt.cname}\r\n                  </List>\r\n                );\r\n              })}\r\n          </Lists>\r\n        </ScrollDiv>\r\n        {openModal && (\r\n          <CalendarModal\r\n            date={date}\r\n            setOpenModal={setOpenModal}\r\n            openModal={true}\r\n            evtList={evtList}\r\n          />\r\n        )}\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nconst Form = styled.li`\r\n  position: relative;\r\n  padding: 0 0vw 0 0.7vw;\r\n  width: 7vw;\r\n  height: 8vw;\r\n  text-align: left;\r\n  border-bottom: 1px solid #e4e3e6;\r\n  border-left: 1px solid #e4e3e6;\r\n  list-style: none;\r\n  font-size: 1.1rem;\r\n  :nth-child(7n + 1),\r\n  :nth-child(7n) {\r\n    color: #969696;\r\n    background-color: #f5f5f5;\r\n  }\r\n`;\r\nconst TodayCSS = styled.span`\r\n  ${(props) =>\r\n    props.findToday &&\r\n    props.idx >= props.lastDate &&\r\n    props.idx <= props.firstDate &&\r\n    ` position: relative;\r\n    padding: .5vw;\r\n    // border-radius: 50%;\r\n    font-size: 1.2vw;\r\n    font-weight: 700;\r\n    color: #fe7c96;\r\n `}\r\n`;\r\nconst DateNum = styled.div`\r\n  padding: 0.5em 0.6em 0 0;\r\n  font-size: 1em;\r\n  color: black;\r\n\r\n  ${(props) => props.idx < props.lastDate && `color: #969696;`};\r\n  ${(props) =>\r\n    props.firstDate > 0 &&\r\n    props.idx > props.firstDate - 1 &&\r\n    `\r\n    color: #969696;\r\n  `};\r\n`;\r\nconst ScrollDiv = styled.div`\r\n  overflow: auto;\r\n  height: 70px;\r\n  color: black;\r\n\r\n  ${(props) => props.idx < props.lastDate && `opacity: 0;`};\r\n  ${(props) =>\r\n    props.firstDate > 0 &&\r\n    props.idx > props.firstDate - 1 &&\r\n    `\r\n    opacity: 0;\r\n  `};\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 6px;\r\n    background: rgba(255, 255, 255, 0.4);\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.3);\r\n    border-radius: 6px;\r\n  }\r\n`;\r\nconst Lists = styled.ul`\r\n  padding: 0;\r\n`;\r\nconst List = styled.li`\r\n  margin-top: 0.2vw;\r\n  padding: 0;\r\n  font-size: 0.7vw;\r\n`;\r\nconst Holidays = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n`;\r\nconst Holiday = styled.div`\r\n  margin-top: 0.3vw;\r\n  padding-left: 0.5vw;\r\n  color: red;\r\n  font-weight: 700;\r\n  background-color: skyblue;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default Dates;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Dates from \"./Dates\";\r\nimport axios from \"axios\";\r\n\r\nconst realURL = \"https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app\";\r\nconst localURL = \"https://127.0.0.1:8000\";\r\nconst url = realURL;\r\n\r\nconst sampleEvtList = [\r\n  {\r\n    visibility: \"public\",\r\n    cid: 61234,\r\n    edatetime: \"2023-05-02T14:00:00\",\r\n    enddate: null,\r\n    uid: \"tester\",\r\n    cname: \"my event test\",\r\n    sdatetime: \"2023-05-01T14:00:00\",\r\n    weekly: \"0\",\r\n  },\r\n];\r\n\r\nconst Body = (props) => {\r\n  const { totalDate, today, month, year, fid } = props;\r\n  const lastDate = totalDate.indexOf(1);\r\n  const firstDate = totalDate.indexOf(1, 7);\r\n  const [evtList, setEvtList] = useState([]);\r\n  let [evtMap, setEvtMap] = useState(new Map()); // key: date, value: event\r\n  const [holiday, setHoliday] = useState([0]);\r\n\r\n  //today\r\n  const findToday = totalDate.indexOf(today);\r\n  const getMonth = new Date().getMonth() + 1;\r\n  const runAxios = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `http://localhost:8000/?solYear=${year}&solMonth=${month}`,\r\n        requestOptions\r\n      );\r\n      console.log(res.data);\r\n      setHoliday(res.data);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setEvtList(sampleEvtList);\r\n    fetchEvtList();\r\n  }, []);\r\n\r\n  const fetchEvtList = () => {\r\n    axios\r\n      .get(`${url}/friendcal?fid=${fid}`, {\r\n        headers: {\r\n          Authorization: localStorage.getItem(\"token\"),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        let newEvtList = [];\r\n        newEvtList.push(res.data);\r\n        setEvtList(newEvtList[0]);\r\n        console.log(\"Friends Cal\", newEvtList[0]);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const populateEvtMap = (evtList) => {\r\n    const newEvtMap = new Map();\r\n\r\n    evtList.forEach((evt) => {\r\n      if (evt.sdatetime !== undefined && evt.edatetime !== undefined) {\r\n        let sdate = evt.sdatetime.split(\"T\")[0];\r\n        let edate = evt.edatetime.split(\"T\")[0];\r\n\r\n        if (newEvtMap.has(sdate)) {\r\n          newEvtMap.get(sdate).push(evt);\r\n        } else {\r\n          newEvtMap.set(sdate, [evt]);\r\n        }\r\n\r\n        if (sdate !== edate) {\r\n          let currentDate = new Date(sdate);\r\n          const lastDate = new Date(edate);\r\n\r\n          while (currentDate <= lastDate) {\r\n            let dateKey = currentDate.toISOString().split(\"T\")[0];\r\n            if (!newEvtMap.has(dateKey)) {\r\n              newEvtMap.set(dateKey, [evt]);\r\n            } else if (!newEvtMap.get(dateKey).some((e) => e.cid === evt.cid)) {\r\n              newEvtMap.get(dateKey).push(evt);\r\n            }\r\n            currentDate.setDate(currentDate.getDate() + 1);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    setEvtMap(newEvtMap);\r\n  };\r\n\r\n  useEffect(() => {\r\n    populateEvtMap(evtList);\r\n  }, [evtList]);\r\n\r\n  function getEvtFromMap(year, month, elm) {\r\n    let evtList = [];\r\n    const date = `${year}-${String(month).padStart(2, \"0\")}-${String(\r\n      elm\r\n    ).padStart(2, \"0\")}`;\r\n    if (evtMap.has(date)) {\r\n      evtList = evtMap.get(date);\r\n    }\r\n    return evtList;\r\n  }\r\n\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    redirect: \"follow\",\r\n    headers: {\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      \"Access-Control-Allow-Headers\": \"Content-Type\",\r\n      \"Access-Control-Allow-Methods\": \"OPTIONS,POST,GET\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    runAxios();\r\n  }, [month]);\r\n\r\n  return (\r\n    <Form>\r\n      {totalDate.map((elm, idx) => {\r\n        return (\r\n          <Dates\r\n            key={idx}\r\n            idx={idx}\r\n            lastDate={lastDate}\r\n            firstDate={firstDate}\r\n            elm={elm}\r\n            findToday={findToday === idx && month === getMonth && findToday}\r\n            month={month}\r\n            year={year}\r\n            holiday={holiday.item}\r\n            evtList={getEvtFromMap(year, month, elm, evtMap)}\r\n          ></Dates>\r\n        );\r\n      })}\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst Form = styled.div`\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  margin: 0 10px 20px 20px;\r\n  width: 49vw;\r\n`;\r\nexport default Body;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Head from \"./components/Head\";\r\nimport Body from \"./components/Body\";\r\n\r\nconst Main = (props) => {\r\n  const { fid } = props;\r\n  let DATE = new Date();\r\n  const YEAR = DATE.getFullYear();\r\n  const MONTH = DATE.getMonth() + 1;\r\n\r\n  const [month, setMonth] = useState(MONTH);\r\n  const [year, setYear] = useState(YEAR);\r\n  const [totalDate, setTotalDate] = useState([]);\r\n\r\n  const changeDate = (month) => {\r\n    //이전 날짜\r\n    let PVLastDate = new Date(YEAR, month - 1, 0).getDate();\r\n    let PVLastDay = new Date(YEAR, month - 1, 0).getDay();\r\n    //다음 날짜\r\n    const ThisLasyDay = new Date(YEAR, month, 0).getDay();\r\n    const ThisLasyDate = new Date(YEAR, month, 0).getDate();\r\n\r\n    //이전 날짜 만들기\r\n    let PVLD = [];\r\n    if (PVLastDay !== 6) {\r\n      for (let i = 0; i < PVLastDay + 1; i++) {\r\n        PVLD.unshift(PVLastDate - i);\r\n      }\r\n    }\r\n    //다음 날짜 만들기\r\n    let TLD = [];\r\n    for (let i = 1; i < 7 - ThisLasyDay; i++) {\r\n      if (i === 0) {\r\n        return TLD;\r\n      }\r\n      TLD.push(i);\r\n    }\r\n\r\n    //현재날짜\r\n    let TD = [];\r\n\r\n    TD = [...Array(ThisLasyDate + 1).keys()].slice(1);\r\n\r\n    return PVLD.concat(TD, TLD);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTotalDate(changeDate(7));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setTotalDate(changeDate(month));\r\n  }, [month]);\r\n\r\n  const [today, setToday] = useState(0);\r\n\r\n  const goToday = () => {\r\n    let TODAY = new Date().getDate();\r\n    let goMonth = new Date().getMonth() + 1;\r\n    setMonth(goMonth);\r\n    setToday(TODAY);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Head year={year} month={month} setMonth={setMonth} goToday={goToday} />\r\n      <Body\r\n        totalDate={totalDate}\r\n        today={today}\r\n        month={month}\r\n        year={year}\r\n        fid={fid}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { Form, FormControl } from \"react-bootstrap\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\n// import \"react-datepicker/dist/react-datepicker.css\";\r\n//달력 추가\r\n// import GlobalStyle from \"./styles/GlobalStyle\";\r\n// import { ThemeProvider } from \"styled-components\";\r\n// import Theme from \"./styles/Theme\";\r\nimport Main from \"./Main\";\r\nimport axios from \"axios\";\r\n\r\nexport function FriendTimetable() {\r\n  const [oo, setOO] = useState(false);\r\n  const history = useHistory();\r\n\r\n  let location = useLocation();\r\n  let currentPath = location.pathname;\r\n  let fid = currentPath.split(\"/\").pop();\r\n  console.log(\"fid\", fid);\r\n\r\n  axios\r\n    .get(\"https://port-0-timecodi-416cq2mlg8dr0qo.sel3.cloudtype.app/login\", {\r\n      headers: {\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((response) => {\r\n      if (response.data.success == true) {\r\n        // alert(\"good\");\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      setOO(true);\r\n    });\r\n\r\n  useEffect(() => {\r\n    if (oo) {\r\n      history.push(\"/user-pages/login-1\");\r\n      // alert(\"please login\");\r\n    }\r\n  }, [oo]);\r\n  // handleChange = date => {\r\n  //   this.setState({\r\n  //     startDate: date\r\n  //   });\r\n  // };\r\n  // constructor(props) {\r\n  //   super(props)\r\n  //   this.state = {\r\n  //     startDate: new Date(),\r\n  //     visitSaleData: {},\r\n\r\n  //   }\r\n  // }\r\n  const [name, setName] = useState(\"\");\r\n  const [visible, setVisible] = useState(\"\");\r\n  const [sdate, setSdate] = useState(\"\");\r\n  const [edate, setEdate] = useState(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">\r\n          <span className=\"page-title-icon bg-gradient-primary text-white mr-2\">\r\n            <i className=\"mdi mdi-timetable\"></i>\r\n          </span>{\" \"}\r\n          friend {fid}'s Schedule{\" \"}\r\n        </h3>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-lg- \">\r\n          <div className=\"card\" style={{ \"margin-left\": \"1.2vw\" }}>\r\n            <div className=\"card-body d-flex\">\r\n              <div style={{ \"text-align\": \"right\" }}>\r\n                <p style={{ color: \"gray\" }}>\r\n                  &nbsp; &nbsp; &nbsp; &nbsp; ** You can only see schedules that\r\n                  are set \"public\" **&nbsp; &nbsp;&nbsp; &nbsp;\r\n                </p>\r\n                <div>\r\n                  <Main\r\n                    fid={fid}\r\n                    style={{ flexDirection: \"column\", \"margin-top\": \"20vw\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FriendTimetable;\r\n"],"sourceRoot":""}